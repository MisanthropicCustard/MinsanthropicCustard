'use strict';

var express = require('express');
var requestPromise = require('request-promise');
var keys = require('../fourSquare/config/apiKeys.js');
var router = express.Router();

var baseUrl = 'https://api.foursquare.com/v2/';
var endPoint = 'venues/search/?';
var params = 'near=san+francisco';
var auth = '&client_id=' + keys.client_Id + '&client_secret=' + keys.client_Secret + '&v=20170129';

router.get('/api/menus', function (req, res) {
  requestPromise(baseUrl + endPoint + params + auth).then(function (data) {
    data = JSON.parse(data);
    console.log('----------------', data.response.venues);
  }).catch(function (err) {
    console.log(err);
  });

  res.send('Hi Hi');
});

module.exports = router;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NlcnZlci9yb3V0ZXJzL3JvdXRlcnMuanMiXSwibmFtZXMiOlsiZXhwcmVzcyIsInJlcXVpcmUiLCJyZXF1ZXN0UHJvbWlzZSIsImtleXMiLCJyb3V0ZXIiLCJSb3V0ZXIiLCJiYXNlVXJsIiwiZW5kUG9pbnQiLCJwYXJhbXMiLCJhdXRoIiwiY2xpZW50X0lkIiwiY2xpZW50X1NlY3JldCIsImdldCIsInJlcSIsInJlcyIsInRoZW4iLCJkYXRhIiwiSlNPTiIsInBhcnNlIiwiY29uc29sZSIsImxvZyIsInJlc3BvbnNlIiwidmVudWVzIiwiY2F0Y2giLCJlcnIiLCJzZW5kIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFJQSxVQUFVQyxRQUFRLFNBQVIsQ0FBZDtBQUNBLElBQUlDLGlCQUFpQkQsUUFBUSxpQkFBUixDQUFyQjtBQUNBLElBQUlFLE9BQU9GLFFBQVEsaUNBQVIsQ0FBWDtBQUNBLElBQUlHLFNBQVNKLFFBQVFLLE1BQVIsRUFBYjs7QUFHQSxJQUFJQyxVQUFVLGdDQUFkO0FBQ0EsSUFBSUMsV0FBVyxpQkFBZjtBQUNBLElBQUlDLFNBQVMsb0JBQWI7QUFDQSxJQUFJQyxPQUFPLGdCQUFjTixLQUFLTyxTQUFuQixHQUE2QixpQkFBN0IsR0FBZ0RQLEtBQUtRLGFBQXJELEdBQW1FLGFBQTlFOztBQUVBUCxPQUFPUSxHQUFQLENBQVcsWUFBWCxFQUF5QixVQUFTQyxHQUFULEVBQWNDLEdBQWQsRUFBbUI7QUFDMUNaLGlCQUFlSSxVQUFRQyxRQUFSLEdBQWlCQyxNQUFqQixHQUF3QkMsSUFBdkMsRUFBNkNNLElBQTdDLENBQWtELFVBQVNDLElBQVQsRUFBZTtBQUMvREEsV0FBT0MsS0FBS0MsS0FBTCxDQUFXRixJQUFYLENBQVA7QUFDQUcsWUFBUUMsR0FBUixDQUFZLGtCQUFaLEVBQWdDSixLQUFLSyxRQUFMLENBQWNDLE1BQTlDO0FBQ0QsR0FIRCxFQUdHQyxLQUhILENBR1MsVUFBU0MsR0FBVCxFQUFjO0FBQ3JCTCxZQUFRQyxHQUFSLENBQVlJLEdBQVo7QUFDRCxHQUxEOztBQU9EVixNQUFJVyxJQUFKLENBQVMsT0FBVDtBQUNBLENBVEQ7O0FBV0FDLE9BQU9DLE9BQVAsR0FBaUJ2QixNQUFqQiIsImZpbGUiOiJyb3V0ZXJzLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGV4cHJlc3MgPSByZXF1aXJlKCdleHByZXNzJyk7XG52YXIgcmVxdWVzdFByb21pc2UgPSByZXF1aXJlKCdyZXF1ZXN0LXByb21pc2UnKTtcbnZhciBrZXlzID0gcmVxdWlyZSgnLi4vZm91clNxdWFyZS9jb25maWcvYXBpS2V5cy5qcycpO1xudmFyIHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG5cblxudmFyIGJhc2VVcmwgPSAnaHR0cHM6Ly9hcGkuZm91cnNxdWFyZS5jb20vdjIvJztcbnZhciBlbmRQb2ludCA9ICd2ZW51ZXMvc2VhcmNoLz8nO1xudmFyIHBhcmFtcyA9ICduZWFyPXNhbitmcmFuY2lzY28nO1xudmFyIGF1dGggPSAnJmNsaWVudF9pZD0nK2tleXMuY2xpZW50X0lkKycmY2xpZW50X3NlY3JldD0nKyBrZXlzLmNsaWVudF9TZWNyZXQrJyZ2PTIwMTcwMTI5Jztcblxucm91dGVyLmdldCgnL2FwaS9tZW51cycsIGZ1bmN0aW9uKHJlcSwgcmVzKSB7XG4gIHJlcXVlc3RQcm9taXNlKGJhc2VVcmwrZW5kUG9pbnQrcGFyYW1zK2F1dGgpLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgIGRhdGEgPSBKU09OLnBhcnNlKGRhdGEpO1xuICAgIGNvbnNvbGUubG9nKCctLS0tLS0tLS0tLS0tLS0tJywgZGF0YS5yZXNwb25zZS52ZW51ZXMpO1xuICB9KS5jYXRjaChmdW5jdGlvbihlcnIpIHtcbiAgICBjb25zb2xlLmxvZyhlcnIpO1xuICB9KVxuXG5cdHJlcy5zZW5kKCdIaSBIaScpO1xufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gcm91dGVyO1xuIl19